<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html 
      PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" 
  xmlns:xlink="http://www.w3.org/1999/xlink">
  <head>
    <title>SimWin sim</title>
  </head>
  <body width="100%" height='800px'>
  
<script>
function browseTo(url)
{
  var frame = document.getElementById('webIFrame');
  frame.src = url;
}
</script>

<svg xmlns="http://www.w3.org/2000/svg" version="1.1" baseProfile="full" width="100%" height="400px">
    
    <defs>
        <linearGradient id="red_black" x1="0%" y1="0%" x2="0%" y2="100%">
        <stop offset="0%" style="stop-color:rgb(255,0,0);stop-opacity:1"/>
        <stop offset="100%" style="stop-color:rgb(255,255,0);stop-opacity:1"/>
        </linearGradient>

        <radialGradient id="grey_blue" cx="50%" cy="50%" r="50%" fx="50%" fy="50%">
        <stop offset="0%" style="stop-color:rgb(200,200,200);stop-opacity:0"/>
        <stop offset="100%" style="stop-color:rgb(0,0,255);stop-opacity:1"/>
        </radialGradient>

        <radialGradient id="grey_blue2" cx="20%" cy="40%" r="50%" fx="50%" fy="50%">
        <stop offset="0%" style="stop-color:rgb(200,200,200);stop-opacity:0"/>
        <stop offset="100%" style="stop-color:rgb(0,0,255);stop-opacity:1"/>
        </radialGradient>

        <filter id="MyFilter" filterUnits="userSpaceOnUse" x="0" y="0" width="200" height="120">
            <feGaussianBlur in="SourceAlpha" stdDeviation="4" result="blur"/>
            <feOffset in="blur" dx="4" dy="4" result="offsetBlur"/>
            <feSpecularLighting in="blur" surfaceScale="5" specularConstant=".75" specularExponent="20"
                lighting-color="#bbbbbb" result="specOut">
                    <fePointLight x="-5000" y="-10000" z="20000"/>
            </feSpecularLighting>
            <feComposite in="specOut" in2="SourceAlpha" operator="in" result="specOut"/>
            <feComposite in="SourceGraphic" in2="specOut" operator="arithmetic" k1="0" k2="1" k3="1" k4="0" result="litPaint"/>
	    </filter>
	</defs>


    <g onclick = 'browseTo("http://news.bbc.co.uk")'>
        <rect x="1%" y="1%" rx="20" ry="20" width="48%" height="24%" style="stroke:black;stroke-width:5;fill:url(#red_black)"  />
        <text fill="#000000" x="20%" y="15%" stroke="black" font-size="45" font-family="Verdana" >BBC</text>
    </g>
        
    <g id="btnEdit" data-action='{"command":"exec", "what":"notepad.exe" }' >
        <rect x="51%" y="1%" rx="20" ry="20" width="48%" height="24%" style="stroke:black;stroke-width:5;fill:url(#red_black)"/>
        <text fill="#000000" x="67%" y="15%" stroke="black" font-size="45" font-family="Verdana" >Editor</text>
    </g>
    
    <g onclick = 'browseTo("http://www.actprogramme.org.uk")'>
        <rect x="1%" y="26%" rx="20" ry="20" width="48%" height="24%" style="stroke:black;stroke-width:5;fill:url(#grey_blue)"  />
        <svg x="1%" y="26%" width="51%" height="24%" viewBox='0, 0, 198, 119'>
            <g filter="url(#MyFilter)">
                <path fill="none" stroke="#D90000" stroke-width="10" d="M50,90 C0,90 0,30 50,30 L150,30 C200,30 200,90 150,90 z" />
                <text fill="#FFFFFF" stroke="black" font-size="45" font-family="Verdana" x="52" y="76">ACT</text>
            </g>
        </svg>
   </g>
 
	<rect x="51%" y="26%" rx="20" ry="20" width="48%" height="24%" style="stroke:black;stroke-width:5;fill:url(#grey_blue2)"  />

</svg>

<iframe src="about:blank" width="60%" height="350px" 
              frameborder="0" id="webIFrame" scrolling="yes"/>


<iframe id='frm' width="320px" height="320px">
</iframe>
    
<script>var player = document.getElementById('player');</script>
<form>    
    <input type="button" name="btnPlay" value="Play" onclick="player.Open ='./toon.wma'; player.Play='./toon.wma'" />
    <input type="button" name="btnStop" value="Stop" onclick="player.controls.stop();" />
</form>

<!-- xdata="http://plugindoc.mozdev.org/testpages/ffwmv9.php" -->
<script src="js/json2.js" />
<script src="js/ipc_page.js" />
<script src="js/utils.js" />

<script>

function func(aEvent) {
    data = JSON.parse(aEvent.target.parentNode.getAttribute('data-action'));
	Communicator.call(data);
}

Communicator.calledBack = function(aEvent) {
		// TODO: decide what to do here!
		alert("Communicator.calledBack : " + unescape(aEvent.target.getAttribute("returnvalue")));
	};

/**
 * on page load, the Communicator is initialized
 */
document.addEventListener("DOMContentLoaded", function(aEvent) {
	Communicator.init();
	// add event Listener on button to test...
	document.getElementById("btnEdit").addEventListener("click", func, true);
}, false);


function foo()
{
  var frm = document.getElementById('frm');
  frm.src = Utils.makeAbsFileURI('../media/test.wmv');
}

</script>
<a href='dojotest.htm'>dojo</a>
<a name ='abc' href="javascript:foo()">play</a>

</body>
</html>
